version: v2
name: geauxai-studio
description: "A user-friendly, multi-platform GUI for managing and running CrewAI agents and tasks. Supports Conda and virtual environments, no coding needed."

services:
  - name: web
    type: web
    port: 8501
    run: streamlit run /CrewAI-Studio/app/app.py --server.headless true
    instances: 1
    cpuCores: 1
    ramMegabytes: 1024

build:
  method: docker
  context: .
  dockerfile: Dockerfile

env:
  OPENAI_API_KEY: "your-azure-openai-key"
  OPENAI_API_BASE: "https://your-azure-openai-endpoint"

predeploy:
  run: |
    apt update && apt upgrade -y
    apt-get install build-essential -y
    pip install --upgrade pip
    pip install -r /CrewAI-Studio/requirements.txt

autoRollback:
  enabled: true
